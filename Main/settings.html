<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coolio Hub - Settings</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<canvas id="particles"></canvas>

<div class="nav-bar">
    <button onclick="location.href='index.html'">Home</button>
    <button onclick="location.href='Projects.html'">Fun</button>
</div>

<div class="settings-container">
<h1>Settings</h1>

<div class="slider-container"><label>Background Red</label><input type="range" id="bgR" min="0" max="255"></div>
<div class="slider-container"><label>Background Green</label><input type="range" id="bgG" min="0" max="255"></div>
<div class="slider-container"><label>Background Blue</label><input type="range" id="bgB" min="0" max="255"></div>

<div class="slider-container"><label>Particle Red</label><input type="range" id="pR" min="0" max="255"></div>
<div class="slider-container"><label>Particle Green</label><input type="range" id="pG" min="0" max="255"></div>
<div class="slider-container"><label>Particle Blue</label><input type="range" id="pB" min="0" max="255"></div>

<div class="slider-container"><label>Particle Amount</label><input type="range" id="particleAmount" min="50" max="300"></div>
<div class="slider-container"><label>Particle Line Distance</label><input type="range" id="lineDistance" min="50" max="300"></div>

<button class="save-btn" onclick="saveSettings()">Save Settings</button>
</div>

<script src="particles.js" defer></script>

<script>
// ===== Slider & Save Logic =====
let bgColor = JSON.parse(localStorage.getItem('bgColor')) || {r:18,g:18,b:18};
let particleColor = JSON.parse(localStorage.getItem('particleColor')) || {r:29,g:185,b:84};
let particleAmount = parseInt(localStorage.getItem('particleAmount')) || 100;
let particleLineDistance = parseInt(localStorage.getItem('particleLineDistance')) || 120;

// Set slider initial values
['bgR','bgG','bgB','pR','pG','pB','particleAmount','lineDistance'].forEach(id=>{
    let elem = document.getElementById(id);
    if(id==='bgR') elem.value = bgColor.r;
    if(id==='bgG') elem.value = bgColor.g;
    if(id==='bgB') elem.value = bgColor.b;
    if(id==='pR') elem.value = particleColor.r;
    if(id==='pG') elem.value = particleColor.g;
    if(id==='pB') elem.value = particleColor.b;
    if(id==='particleAmount') elem.value = particleAmount;
    if(id==='lineDistance') elem.value = particleLineDistance;
    elem.addEventListener('input',()=>updateValues());
});

function updateValues(){
    bgColor.r = parseInt(document.getElementById('bgR').value);
    bgColor.g = parseInt(document.getElementById('bgG').value);
    bgColor.b = parseInt(document.getElementById('bgB').value);
    particleColor.r = parseInt(document.getElementById('pR').value);
    particleColor.g = parseInt(document.getElementById('pG').value);
    particleColor.b = parseInt(document.getElementById('pB').value);
    particleAmount = parseInt(document.getElementById('particleAmount').value);
    particleLineDistance = parseInt(document.getElementById('lineDistance').value);
}

function saveSettings(){
    localStorage.setItem('bgColor',JSON.stringify(bgColor));
    localStorage.setItem('particleColor',JSON.stringify(particleColor));
    localStorage.setItem('particleAmount',particleAmount);
    localStorage.setItem('particleLineDistance',particleLineDistance);
    alert('Settings saved!');
}
</script>

</body>
</html>
